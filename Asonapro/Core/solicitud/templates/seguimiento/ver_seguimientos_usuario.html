
{% load static %}

{% block head %}
  <!-- Theme style -->
  <link
  rel="stylesheet"
  href="{% static 'lib/adminLTE-3.2.0/css/adminlte.css' %}"
  />
  
  <!-- DataTables -->
  <link rel="stylesheet" href="{% static 'lib/datatables-1.10.20/css/dataTables.bootstrap4.min.css' %}" />
  <link rel="stylesheet" href="{% static 'lib/daterangepicker-3.1/daterangepicker.css' %}" />

  <link rel="stylesheet" href="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/css/responsive.bootstrap4.min.css' %}" />
  <link rel="stylesheet" href="{% static 'lib/datatables-1.10.20/datatables.min.css' %}" />

  <script src="{% static 'lib/datatables-1.10.20/js/jquery.dataTables.js' %}"></script>
  <script src="{% static 'lib/datatables-1.10.20/js/dataTables.bootstrap4.min.js' %}"></script>
  <script src="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/js/dataTables.responsive.min.js' %}"></script>
  <script src="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/js/responsive.bootstrap4.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'lib/datatables-1.10.20/datatables.min.js'%}"></script>

  <!-- Moment.js y DateRangePicker -->
  <script src="{% static 'lib/moment-2.25.3/moment.js' %}"></script>
  <script src="{% static 'lib/daterangepicker-3.1/spanish.js' %}"></script>
  <script src="{% static 'lib/daterangepicker-3.1/daterangepicker.js' %}"></script>

  <!-- DataTables Buttons -->
  <link rel="stylesheet" href="{% static 'lib/datatables-1.10.20/plugins/buttons-1.6.1/css/buttons.bootstrap.min.css' %}" />
  <script src="{% static 'lib/datatables-1.10.20/plugins/buttons-1.6.1/js/dataTables.buttons.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'lib/datatables-1.10.20/plugins/jszip-2.5.0/jszip.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'lib/datatables-1.10.20/plugins/pdfmake-0.1.36/pdfmake.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'lib/datatables-1.10.20/plugins/pdfmake-0.1.36/vfs_fonts.js' %}" type="text/javascript"></script>
  <script src="{% static 'lib/datatables-1.10.20/plugins/buttons-1.6.1/js/buttons.html5.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'seguimiento/js/reportes.js' %}"></script>
{% endblock %} 

{% block content %}
  <div class="content">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12">
          <div class="card card-success card-outline">
            <div class="card-header">
              <div class="py-3 d-flex flex-row align-items-center justify-content-between">
                <h3 class="card-title">
                  <i class="fas fa-search"></i>{{ title }} / {{ date_now }}
                </h3>
                
              </div>
            </div>
            <div class="card-body">
              <!-- Agrega campos de rango de fechas y el botón de filtrar -->
              <div class="row">
                <div class="col-lg-12">
                  <div class="form-group">
                    <label>Rango de fechas:</label>
                    {{ form.date_range }}
                  </div>
                </div>
              </div>
              {% for field in form %}
                {% for error in field.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              {% endfor %}
              <div class="table-responsive">
                <table class="table table-hover text-nowrap table-bordered" id="data">
                  <thead class="table-success">
                      <tr>
                        <th>Nro</th>
                        <th>Sembrador</th>
                        <th>Tecnico</th>
                        <th>Nombre Persona Atendió</th>
                        <th>Cédula</th>
                        <th>Teléfono</th>
                        <th>Fecha de Visita</th>
                        <th>Fecha Próxima de Visita</th>
                        <th>Motivo de Visita</th>
                        <th>Lote 1</th>
                        <th>Lote 2</th>
                        <th>Lote 3</th>
                        <th>Lote 4</th>
                        <th>Edad del Cultivo</th>
                        <th>Superficie Up</th>
                        <th>Superficie Preparada</th>
                        <th>Superficie Sembrada</th>
                        <th>Rubro Sembrado</th>
                        <th>Semilla Variedad</th>
                        <th>Realizar Recomendación</th>
                        <th>Fecha Estimada de Cosecha</th>
                        <th>Superficie Por Cosechar</th>
                        <th>Superficie Cosechada</th>
                        <th>Superficie Perdida</th>
                        <th>Superficie Efectiva</th>
                        <th>Estimación del Rendimiento</th>
                        <th>Rendimiento</th>
                        <th>Rendimiento Total</th>
                        <th>Dar Continuidad</th>
                        <th>Descripción</th>
                        <th>Coordenadas Norte</th>
                        <th>Coordenadas Sur</th>
                      </tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %} 

{% block java %}
  <script type="application/javascript">
    $(function () {
      // Destruye la instancia DataTable existente, si la hay
      if ($.fn.DataTable.isDataTable('#data')) {
        $('#data').DataTable().destroy();
      }
      $('#data').DataTable({
          responsive: true,
          autoWidth: false
      });
  });
  </script>
{% endblock %}
