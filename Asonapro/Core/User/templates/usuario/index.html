

{% extends "layout.html" %} 
{% load static %} 
  {% block head %}
    <script src="{% static './js/html5-qrcode.min.js' %}"></script>
  {% endblock %}
  
  {% block content %}
    <div id="qr-code-full-region"></div>
    
    <script>
      function onScanSuccess(decodedText, decodedResult) {
        alert(`Texto le√≠do: ${decodedText}`, decodedResult);

        function redirectToUrl(url) {
          window.location.href = url;
        }

        redirectToUrl(decodedText);
      }

      $(document).ready(function () {
        var html5QrcodeScanner = new Html5QrcodeScanner("qr-code-full-region", {
          fps: 10,
          qrbox: 250,
        });
        html5QrcodeScanner.render(onScanSuccess);
      });
    </script>
    <script>
      function delayExecution(func, wait) {
        return function () {
          setTimeout(() => {
            func.apply(this, arguments);
          }, wait);
        };
      }
    </script>
  {% endblock %} 
